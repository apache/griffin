{
  "name": "accu2",
  "type": "accuracy",

  "source": {
    "type": "kafka",
    "version": "0.8",
    "config": {
      "kafka.config": {
        "bootstrap.servers": "a.b.c.d:9092",
        "group.id": "group1",
        "auto.offset.reset": "smallest",
        "auto.commit.enable": "false",
      },
      "topics": "src",
      "decoder": "kafka.serializer.StringDecoder"
    }
  },

  "target": {
    "type": "kafka",
    "version": "0.8",
    "config": {
      "kafka.config": {
        "bootstrap.servers": "a.b.c.d:9092",
        "group.id": "group1",
        "auto.offset.reset": "smallest",
        "auto.commit.enable": "false",
      },
      "topics": "tgt",
      "decoder": "kafka.serializer.StringDecoder"
    }
  },

  "evaluateRule": {
    "sampleRatio": 0.2,
    "rules": "$source.json().seeds[*].json().url = $target.json().groups[0].attrsList['name' = 'URL'].values[0] AND $source.json().seeds[*].json().metadata.json().tracker.crawlRequestCreateTS = $target.json().groups[0].attrsList['name' = 'CRAWLMETADATA'].values[0].json().tracker.crawlRequestCreateTS WHEN $source._timestamp_ + 24h < $target._timestamp_"
  }
}